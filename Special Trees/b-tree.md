## ๐ ุฏุฑุฎุช ุจ (B-Tree)


### 1๏ธโฃ ุฏุฑุณูุงูู

ุฏุฑุฎุช ุจ (B-Tree) ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏูโุง ุฏุฑุฎุชู ุฎูุฏ-ูุชูุงุฒู ุงุณุช ฺฉู ุงุฌุงุฒู ูโุฏูุฏ ุนููุงุช ุฌุณุชุฌูุ ุฏุณุชุฑุณ ุชุฑุชุจุ ุฏุฑุฌ ู ุญุฐู ุฏุฑ ุฒูุงู ูฺฏุงุฑุชู ุงูุฌุงู ุดูุฏ. ุจุฑุฎูุงู ุฏุฑุฎุชโูุง ุฌุณุชุฌู ุฏูุฏูุ ุฏุฑ ุฏุฑุฎุช ุจ ูุฑ Node ุง ฺฏุฑู ูโุชูุงูุฏ ุจุด ุงุฒ ุฏู ูุฑุฒูุฏ (Child) ุฏุงุดุชู ุจุงุดุฏ.

ฺฉ ุฏุฑุฎุช ุจ ุฏุงุฑุง $n$ ฺฉูุฏ ุบุฑูุฒูู ู $n + 1$ ุงุดุงุฑูโฺฏุฑ ุงุณุช. ุจุฑฺฏโูุง ููโุณุทุญ ูุณุชูุฏ ู ุงุดุงุฑูโฺฏุฑูุง ุขููุง ุชุนุฑู ูุดุฏู ุงุณุช. ุงฺฏุฑ t ุฑุง ุฏุฑุฌูโ ุฏุฑุฎุช ุจูุงูู ุจุฑุง B-Tree ูฺฺฏโูุง ุฒุฑ ุชุนุฑู ูโุดูุฏ:

- ูุฑ ููุฏ ุจุฌุฒ ุฑุดู ุจุงุฏ ุญุฏุงูู $t - 1$ ฺฉูุฏ ุฏุงุดุชู ุจุงุดุฏ. ุฑุดู ูโุชูุงูุฏ ุญุฏุงูู ฺฉ ฺฉูุฏ ุฏุงุดุชู ุจุงุดุฏ.
- ูุฑ ููุฏ ุญุฏุงฺฉุซุฑ $2t - 1$ ฺฉูุฏ ุฏุงุฑุฏ.


**๐ก ูุถู:** ุงฺฏุฑ ุชุนุฏุงุฏ ฺฉู ฺฉูุฏูุง $n$ ู ุงุฑุชูุงุน `h` ู ุฏุฑุฌู `t` ุจุงุดุฏ ุขูฺฏุงู:

$h \le \log_t \frac{n+1}{2}$

**โ ุงุซุจุงุช:** ุชุนุฏุงุฏ ููุฏูุง ููุช ูููู ุงุณุช ฺฉู ุฑุดู ฺฉ ฺฉูุฏ ู ุณุงุฑ ููุฏูุง ุฏุงุฑุง $t - 1$ ฺฉูุฏ ุจุงุดูุฏุ ุฏุฑ ุงู ุตูุฑุช ุฏุฑ ุนูู ุตูุฑ ฺฉ ููุฏุ ุฏุฑ ุนูู ฺฉ $2$ ููุฏุ ุฏุฑ ุนูู ุฏู $2t$ ููุฏุ ุฏุฑ ุนูู ุณู $2t^2$ ููุฏ ู ... ุฏุฑ ุนูู h ุชุนุฏุงุฏ $2t^{h-1}$ ููุฏ ูุฌูุฏ ุฏุงุฑุฏ ูพุณ ุจุฑุง ุชุนุฏุงุฏ n ฺฉูุฏ ุฏุงุฑู:


$$n \ge 1 + (t-1)\sum_{i=1}^{h} 2t^{i - 1} = 2t^{h} - 1 \Rightarrow  h \le \log_t \frac{n+1}{2}$$


> **ูฺฉุชู:** ุฏุฑุฎุช ุจ ุชุนููโุงูุชูโ ุฏุฑุฎุช ุฌุณุชุฌู ุฏูุฏู (BST) ุงุณุช ฺฉู ุจูโุฌุง ุฏู ูุฑุฒูุฏุ ฺูุฏู ูุฑุฒูุฏ ุฏุงุฑุฏ.

> **ูฺฉุชู:** ุนููุงุช ุฌุณุชุฌูุ ุฏุฑุฌ ู ุญุฐู ุฏุฑ ุงู ุฏุฑุฎุช ุงุฒ ูุฑุชุจูโ $\mathcal{O}(t.h) = \mathcal{O}(t.\log_t(n))$ ุงุณุช.

> **ูฺฉุชู:** ุจุฑุง ุฏุฑุฌ ุฏุฑ ุฏุฑุฎุช ุจุ ุงุฒ ุฑุดู ุฌุณุชุฌู ูโฺฉูู ู ุฏุฑ ูุณุฑ ุฌุณุชุฌู ูุฑ ููุฏ ฺฉู ุดุงูู `2t - 1` ฺฉูุฏ ุจูุฏ (ุจู ุนุจุงุฑุช ูพุฑ ุจูุฏ) ุขู ุฑุง ุฏู ูุณูุช ูโฺฉูู ู ฺฉูุฏ ูุณุท ุขู ููุฏ ุฑุง ุจู ููุฏ ูพุฏุฑุด ููุชูู ูโฺฉููุ ุงูุจุชู ููฺฉู ุงุณุช ุงุฑุชูุงุน ุฏุฑุญุช ฺฉ ูุงุญุฏ ุงูุฒุงุด ุงุจุฏ. ุฏุฑ ููุงุช ฺฉูุฏ ุฌุฏุฏ ุฏุฑ ฺฉ ุจุฑฺฏ ุฏุฑุฌ ูโุดูุฏ.


### 2๏ธโฃ ุนููุงุช ุงุตู

ุฏุฑุฎุช B ูุงููุฏ ูุฑ ุณุงุฎุชุงุฑ ุฌุณุชุฌู ูุชูุงุฒูุ ูุฌููุนูโุง ุงุฒ ุนููุงุช ุจูุงุฏ ุฏุงุฑุฏ ฺฉู ุชุถูู ูโฺฉููุฏ ุฏุงุฏูโูุง ูููุงุฑู ูุฑุชุจุ ูุชูุงุฒู ู ูุงุจูโุฏุณุชุฑุณ ุฏุฑ ุฒูุงู ูฺฏุงุฑุชู ุจุงู ุจูุงููุฏ. ุงู ุนููุงุช ุดุงูู ุฌุณุชุฌู (Search) ุจุฑุง ุงูุชู ฺฉูุฏุ ุฏุฑุฌ (Insertion) ุจุฑุง ุงูุฒูุฏู ุฏุงุฏูโ ุฌุฏุฏ ุจุง ุญูุธ ููุฏ ุณุงุฎุชุงุฑุ ู ุญุฐู (Deletion) ุจุฑุง ุญุฐู ุงูู ฺฉ ฺฉูุฏ ููุฑุงู ุจุง ุจุงุฒูุชุนุงุฏูโุณุงุฒ ุฏุฑุฎุช ูุณุชูุฏ. ุทุฑุงุญ ุงู ุงูฺฏูุฑุชูโูุง ุจูโฺฏูููโุง ุงุณุช ฺฉู ุถูู ุญูุธ ูฺฺฏ **ุญุฏุงูู ูููโูพุฑ ุจูุฏู ููุฏูุง**ุ ุงุฑุชูุงุน ุฏุฑุฎุช ฺฉูุชุฑู ุดุฏู ู ูุฒููโ ุฏุณุชุฑุณุ ฺู ุฏุฑ ุญุงูุธู ุงุตู ู ฺู ุฏุฑ ุญุงูุธู ุซุงูููุ ุฏุฑ ูุฑุชุจูโ $\mathcal{O}(t.\log_t(n))$ ุจุงู ุจูุงูุฏ.

#### ๐ ุนููุงุช ุฌุณุชุฌู

ุฌุณุชุฌู ุฏุฑ B-Tree ุจุณุงุฑ ุดุจู ุจู BST ุงุณุชุ ุงูุง ุฏุฑ ูุฑ ููุฏ ุจู ุฌุง ฺฉ ฺฉูุฏุ ุจุง ูุณุช ุงุฒ ฺฉูุฏูุง ููุงุฌู ูโุดูู. ุงูฺฏูุฑุชู ุนููุงุช ุฌุณุชุฌู ุจู ุดุฑุญ ุฒุฑ ุงุณุช:

1.  **ุดุฑูุน ุงุฒ ุฑุดู:** ุฌุณุชุฌู ููุดู ุงุฒ ููุฏ ุฑุดู ุขุบุงุฒ ูโุดูุฏ.
2.  **ุจุฑุฑุณ ฺฉูุฏูุง ููุฏ ูุนู:** ุฏุฑ ููุฏ ุฌุงุฑุ ฺฉูุฏูุง ุจูโุตูุฑุช ุตุนูุฏ ูุฑุชุจ ูุณุชูุฏ. ฺฉูุฏ ููุฑุฏูุธุฑ $k$ ุฑุง ฺฉูุฏูุง ููุฏ ููุงุณู ูโฺฉูู ุชุง ุงููู ฺฉูุฏ ุฑุง ูพุฏุง ฺฉูู ฺฉู:

```math
k \leq key_i
```

3.  **ุงฺฏุฑ ฺฉูุฏ ุจุฑุงุจุฑ ุจูุฏ:** ุงฺฏุฑ: $k = key_i$  ุขูฺฏุงู ุฌุณุชุฌู ูููู ุงุณุช ู ุนููุงุช ูพุงุงู ูโุงุจุฏ.
4. **ุงฺฏุฑ ููุฏ ุจุฑฺฏ ุจุงุดุฏ ู ฺฉูุฏ ูพุฏุง ูุดูุฏ:** ุฏุฑ ุตูุฑุช ฺฉู ููุฏ ุจุฑฺฏ ุจุงุดุฏ ู ฺฉูุฏ ุจุฑุงุจุฑ ุงูุช ูุดูุฏุ ุนู ุนูุตุฑ ุฏุฑ ุฏุฑุฎุช ูุฌูุฏ ูุฏุงุฑุฏ.
5. **ุงูุชุฎุงุจ ุฒุฑโุฏุฑุฎุช ููุงุณุจ (ุฏุฑ ุตูุฑุช ุฏุงุฎู ุจูุฏู ููุฏ):** ุงฺฏุฑ ููุฏ ุฏุงุฎู ุจุงุดุฏุ ุจุณุชู ุจู ูุชุฌูโ ููุงุณูุ ูุงุฑุฏ ฺฉ ุงุฒ ูุฑุฒูุฏุงู ูโุดูู:
    - ุงฺฏุฑ `k < key[0]`: ูุฑูุฏ ุจู ุงููู ูุฑุฒูุฏ
    - ุงฺฏุฑ ุจู `key[i]` ู `key[i+1]` ุจุงุดุฏ: ูุฑูุฏ ุจู ูุฑุฒูุฏ `i+1`
    - ุงฺฏุฑ ุจุฒุฑฺฏโุชุฑ ุงุฒ ุขุฎุฑู ฺฉูุฏ ุจุงุดุฏ: ูุฑูุฏ ุจู ุขุฎุฑู ูุฑุฒูุฏ
6. **ุชฺฉุฑุงุฑ ูุฑุขูุฏ ุชุง ุฑุณุฏู ุจู ูุชุฌู:** ุงู ูุฑุงุญู ุฏุฑ ูุฑ ุณุทุญ ุชฺฉุฑุงุฑ ูโุดููุฏ ุชุง ฺฉูุฏ ูพุฏุง ุดูุฏุ ุง ุจู ฺฉ ุจุฑฺฏ ุจุฑุณู ู ุฌุณุชุฌู ูุงูููู ุดูุฏ.

#### ๐ฅ ุนููุงุช ุฏุฑุฌ

1. **ุดุฑูุน ุงุฒ ุฑุดู:** ุฏุฑุฌ ุงุฒ ุฑุดู ุขุบุงุฒ ูโุดูุฏ ู ุจูโุตูุฑุช ุจุงูุง ุจู ูพุงู ุงุฏุงูู ูพุฏุง ูโฺฉูุฏ.
2. **ุจุฑุฑุณ ูพุฑ ุจูุฏู ููุฏ ูุจู ุงุฒ ูุฑูุฏ**  ุงฺฏุฑ ููุฏ ููุตุฏ ุฏุงุฑุง `2t - 1` ฺฉูุฏ ุจุงุดุฏ (ูพุฑ ุจุงุดุฏ)ุ ุจุงุฏ ูุจู ุงุฒ ูุฑูุฏุ ุขู ุฑุง ุจุดฺฉุงูู ุง ุงุตุทูุงุญุง Split ฺฉูู.
3. **ุดฺฉุงูุชู ููุฏ ูพุฑ (Split):** ููฺฏุงู Splitุ ฺฉูุฏ ูุงู ุจู ููุฏ ูุงูุฏ ููุชูู ูโุดูุฏ ู ููุฏ ูพุฑ ุจู ุฏู ููุฏ ุฌุฏุฏ ุชูุณู ูโุดูุฏุ ุจูโุทูุฑโฺฉู ููุฏ ฺูพ ุดุงูู $t - 1$ ฺฉูุฏ ุงูู ู ููุฏ ุฑุงุณุช ุดุงูู $t - 1$ ฺฉูุฏ ุขุฎุฑ ุฎูุงูุฏ ุจูุฏ.
4. **ุงูุชุฎุงุจ ุฒุฑโุฏุฑุฎุช ููุงุณุจ:** ุจุนุฏ ุงุฒ Split (ุฏุฑ ุตูุฑุช ูุงุฒ)ุ ุจุฑ ุงุณุงุณ ููุฏุงุฑ ฺฉูุฏ ุฌุฏุฏุ ูุงุฑุฏ ูุฑุฒูุฏ ููุงุณุจ ูโุดูู.
5. **ุฏุฑุฌ ุฏุฑ ููุฏ ุจุฑฺฏ ุบุฑูพุฑ:** ููุช ุจู ฺฉ ุจุฑฺฏ ุบุฑูพุฑ ุจุฑุณูุ ฺฉูุฏ ุฌุฏุฏ ุฏุฑ ูุญู ูุฑุชุจ ุฎูุฏ ุฏุฑุฌ ูโุดูุฏ ู ุชุฑุชุจ ุตุนูุฏ ฺฉูุฏูุง ุญูุธ ูโุดูุฏ.
6. **ุงูุฒุงุด ุงุฑุชูุงุน ุฏุฑ ุตูุฑุช Split ุดุฏู ุฑุดู:** ุงฺฏุฑ ุฑุดู ุฏุงุฑุง $2t - 1$ ฺฉูุฏ ุจุงุดุฏุ ุงุจุชุฏุง Split ุงูุฌุงู ูโุดูุฏุ ุณูพุณ ฺฉ ุฑุดู ุฌุฏุฏ ุณุงุฎุชู ูโุดูุฏ ู ุงุฑุชูุงุน ุฏุฑุฎุช ฺฉ ูุงุญุฏ ุงูุฒุงุด ูโุงุจุฏ.

#### ๐๏ธ ุนููุงุช ุญุฐู

1. **ุฌุณุชุฌู ฺฉูุฏ:** ุงุจุชุฏุง ฺฉูุฏ ููุฑุฏูุธุฑ ุฑุง ุฏุฑ ุฏุฑุฎุช ูพุฏุง ูโฺฉูู.
2. **ุญุฐู ุงุฒ ููุฏ ุจุฑฺฏ (ุญุงูุช ุณุงุฏู):** ุงฺฏุฑ ฺฉูุฏ ุฏุฑ ฺฉ ุจุฑฺฏ ุจุงุดุฏุ ูุณุชููุง ุญุฐู ูโุดูุฏ. ุงฺฏุฑ ุชุนุฏุงุฏ ฺฉูุฏูุง ฺฉูุชุฑ ุงุฒ $t - 1$ ุดูุฏุ ุจุงุฏ ุจุงุฒูุชุนุงุฏูโุณุงุฒ ุงูุฌุงู ุดูุฏ.
3. **ุญุฐู ุงุฒ ููุฏ ุฏุงุฎู:** ุงฺฏุฑ ฺฉูุฏ ุฏุฑ ููุฏ ุฏุงุฎู ุจุงุดุฏุ ุขู ุฑุง ุจุง ฺฉ ุงุฒ ุงู ุฏู ุฌุงฺฏุฒู ูโฺฉูู: ุจุฒุฑฺฏโุชุฑู ฺฉูุฏ ุฒุฑโุฏุฑุฎุช ฺูพ (Predecessor) ุง ฺฉูฺฺฉโุชุฑู ฺฉูุฏ ุฒุฑโุฏุฑุฎุช ุฑุงุณุช (Successor). ุณูพุณ ุขู ฺฉูุฏ ุฌุงฺฏุฒู ุฑุง ุญุฐู ูโฺฉูู ฺฉู ุฏุฑ ููุงุช ุจู ุญุฐู ุงุฒ ุจุฑฺฏ ูโุฑุณุฏ.
4. **ุจุฑุฑุณ Underflow (ฺฉูุจูุฏ ฺฉูุฏ):** ุงฺฏุฑ ููุฏ ฺฉูุชุฑ ุงุฒ $t - 1$ ฺฉูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุงุจุชุฏุง ุจุฑุฑุณ ูโฺฉูู ฺฉู ุขุง ฺฉ ุงุฒ siblingูุง ุจุด ุงุฒ ุญุฏุงูู ฺฉูุฏ ุฏุงุฑุฏ. ุฏุฑ ุงู ุตูุฑุช Redistribute ุงูุฌุงู ูโุดูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ููุฏ ุจุง ฺฉ ุงุฒ siblingูุง Merge ูโุดูุฏ.
5. **ุงุฏุบุงู ููุฏูุง (Merge):** ููุฏ ุจุง ฺฉ ุงุฒ siblingูุง ุงุฏุบุงู ูโุดูุฏ ู ฺฉ ฺฉูุฏ ุงุฒ ูุงูุฏ ุจู ููุฏ ุงุฏุบุงูโุดุฏู ููุชูู ูโุดูุฏ.
6. **ฺฉุงูุด ุงุฑุชูุงุน ุฏุฑ ุตูุฑุช ุฎุงู ุดุฏู ุฑุดู:** ุงฺฏุฑ ุฑุดู ุจุฏูู ฺฉูุฏ ุดูุฏุ ุชููุง ูุฑุฒูุฏ ุขู ุจู ุฑุดู ุฌุฏุฏ ุชุจุฏู ูโุดูุฏ ู ุงุฑุชูุงุน ุฏุฑุฎุช ฺฉ ูุงุญุฏ ฺฉุงูุด ูโุงุจุฏ.
